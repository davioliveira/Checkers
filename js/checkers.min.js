/*
* piecePosition = {row: ?, column: ?}
* TOP_PLAYER = BLUE
* BOTTOM_PLAYER = RED
* */function getMoveActions(e,t){var n=[],r=e[t.row][t.column],i=getDiagonalMoves(r,t);for(var s=0;s<i.length;s++)try{var o=i[s];e[o.row][o.column]==EMPTY_CELL&&n.push(o)}catch(u){}return n}function getEatActions(e,t,n,r){var i=[],s=e[t.row][t.column],o=[{type:MOVE_PIECE,row:t.row+1,column:t.column+1},{type:MOVE_PIECE,row:t.row+1,column:t.column-1},{type:MOVE_PIECE,row:t.row-1,column:t.column-1},{type:MOVE_PIECE,row:t.row-1,column:t.column+1}];try{if(e[o[0].row][o[0].column]!=EMPTY_CELL&&e[o[0].row][o[0].column]!=s){var u={row:o[0].row+1,column:o[0].column+1};if(e[u.row][u.column]==EMPTY_CELL){var a=copyTable(e);a[u.row][u.column]=s;a[o[0].row][o[0].column]=EMPTY_CELL;a[t.row][t.column]=EMPTY_CELL;var f=copyNodeList(n);f.push(u);var l=copyNodeList(r);l.push(o[0]);i.push({type:EAT_PIECE,movementPositions:f,removedPiecesPosition:l,table:a});concatLists(i,getEatActions(a,u,f,l))}}}catch(c){}try{if(e[o[1].row][o[1].column]!=EMPTY_CELL&&e[o[1].row][o[1].column]!=s){var u={row:o[1].row+1,column:o[1].column-1};if(e[u.row][u.column]==EMPTY_CELL){var a=copyTable(e);a[u.row][u.column]=s;a[o[1].row][o[1].column]=EMPTY_CELL;a[t.row][t.column]=EMPTY_CELL;var f=copyNodeList(n);f.push(u);var l=copyNodeList(r);l.push(o[1]);i.push({type:EAT_PIECE,movementPositions:f,removedPiecesPosition:l,table:a});concatLists(i,getEatActions(a,u,f,l))}}}catch(c){}try{if(e[o[2].row][o[2].column]!=EMPTY_CELL&&e[o[2].row][o[2].column]!=s){var u={row:o[2].row-1,column:o[2].column-1};if(e[u.row][u.column]==EMPTY_CELL){var a=copyTable(e);a[u.row][u.column]=s;a[o[2].row][o[2].column]=EMPTY_CELL;a[t.row][t.column]=EMPTY_CELL;var f=copyNodeList(n);f.push(u);var l=copyNodeList(r);l.push(o[2]);i.push({type:EAT_PIECE,movementPositions:f,removedPiecesPosition:l,table:a});concatLists(i,getEatActions(a,u,f,l))}}}catch(c){}try{if(e[o[3].row][o[3].column]!=EMPTY_CELL&&e[o[3].row][o[3].column]!=s){var u={row:o[3].row-1,column:o[3].column+1};if(e[u.row][u.column]==EMPTY_CELL){var a=copyTable(e);a[u.row][u.column]=s;a[o[3].row][o[3].column]=EMPTY_CELL;a[t.row][t.column]=EMPTY_CELL;var f=copyNodeList(n);f.push(u);var l=copyNodeList(r);l.push(o[3]);i.push({type:EAT_PIECE,movementPositions:f,removedPiecesPosition:l,table:a});concatLists(i,getEatActions(a,u,f,l))}}}catch(c){}return i}function getDiagonalMoves(e,t){t.row=Number(t.row);t.column=Number(t.column);if(e==TOP_PLAYER)var n=[{type:MOVE_PIECE,row:t.row+1,column:t.column+1},{type:MOVE_PIECE,row:t.row+1,column:t.column-1}];else var n=[{type:MOVE_PIECE,row:t.row-1,column:t.column+1},{type:MOVE_PIECE,row:t.row-1,column:t.column-1}];return n}function concatLists(e,t){for(var n=0;n<t.length;n++)e.push(t[n])}function copyTable(e){var t=[];for(var n=0;n<e.length;n++){var r=[];for(var i=0;i<e[0].length;i++)r[i]=e[n][i];t[n]=r}return t}function copyNodeList(e){var t=[];for(var n=0;n<e.length;n++)t[n]={row:e[n].row,column:e[n].column};return t};