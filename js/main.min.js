function initGame(){initTable();initPieces();addEventListeners()}function addEventListeners(){$(".checkers-cell").click(function(){handleCellClick(this)});$(".checkers-piece").click(function(){handlePieceClick(this)})}function handleCellClick(e){var t=$(".checkers-piece.selected");if(t){var n=t.parent(".checkers-column").attr("data-column"),r=t.parent(".checkers-column").parent(".checkers-row").attr("data-row"),i={row:r,column:n},s=$(e).attr("data-column"),o=$(e).parent(".checkers-row").attr("data-row"),u={row:o,column:s};n!=s&&r!=o&&movePiece(i,u)}}function handlePieceClick(e){$(".checkers-piece").each(function(e){$(this).removeClass("selected")});$(e).toggleClass("selected")}function initTable(){initTableStructure(tableSize);var e="";for(var t=0;t<table.length;t++){var n=t%2,r="<div class='checkers-row' data-row='"+t+"'>";for(var i=0;i<table[t].length;i++){n=!n;var s="<div data-color='"+n+"' data-column='"+i+"' class='checkers-cell checkers-column'></div>";r+=s}r+="</div>";e+=r}$("#checkersTable").html(e)}function initTableStructure(e){var t,n;for(t=0;t<e;t++){var r=[];for(n=0;n<e;n++)r[n]=-1;table.push(r)}}function initPieces(){var e=(tableSize-2)/2,t="<div data-color='#color#' class='checkers-piece'></div>";for(var n=0;n<e;n++)for(var r=n%2;r<tableSize;r+=2){table[n][r]=0;$("div[data-row='"+n+"'] .checkers-cell[data-column='"+r+"']").html(t.replace("#color#",0))}for(var n=e+2;n<tableSize;n++)for(var r=n%2;r<tableSize;r+=2){table[n][r]=1;$("div[data-row='"+n+"'] .checkers-cell[data-column='"+r+"']").html(t.replace("#color#",1))}}function movePiece(e,t){var n=$("div[data-row='"+e.row+"'] .checkers-cell[data-column='"+e.column+"']").find(".checkers-piece");if(n){var r=$("div[data-row='"+e.row+"'] .checkers-cell[data-column='"+e.column+"']").html(),i=$("div[data-row='"+t.row+"'] .checkers-cell[data-column='"+t.column+"']").position(),s=n.position().left+"px",o=n.position().top+"px";n.css({position:"absolute",left:s,top:o});n.animate({left:i.left+12+"px",top:i.top+"px"},500,function(){$("div[data-row='"+t.row+"'] .checkers-cell[data-column='"+t.column+"']").html(r);$("div[data-row='"+e.row+"'] .checkers-cell[data-column='"+e.column+"']").html("");n=$("div[data-row='"+t.row+"'] .checkers-cell[data-column='"+t.column+"']").find(".checkers-piece");n.click(function(){handlePieceClick(this)})})}}var table=[],tableSize=8;